Updating server-side code:

here's the mvn commands that will clean, install (in your local .m2 repo) and redeploy to the server (update the bundle).

1) mvn clean install from myberkeley root or myberkeley/notices
2) mvn -P redeploy install

you should be able to collapse these into one command tho I remember having some problems with that, e.g.
1) mvn -P redeploy clean install

or just run
    mvn -P redeploy install
if you want to update code without wiping the content repo.

----------------

Loading test data set with specified number of users:

mvn -Dsling.loaddata -Dloaddata.server=http://localhost:8080/ -Dloaddata.password=admin -Dloaddata.numusers=16 integration-test

----------------

Redeploying 3akai-ux code (need to have correct certs file in 
$JAVA_HOME/lib/security for the server that you're pushing to):

mvn -P redeploy -Dsling.url=https://portal-dev.berkeley.edu/system/console -Dsling.user=admin -Dsling.password=${password}


-----------------

To compile Nakamura from trunk and install it to local myB:
cd ~/dev/sakai_central/nakamura
mvn -s /dev/null clean install
cd ~/dev/0.2/myberkeley
mvn -Dsling.clean clean
mvn clean install
mvn -P runner -Dsling.start verify


Example of updating a specific bundle in Nakamura:
localhost:~/dev/sakai_central/nakamura/bundles/http/target $ mvn org.apache.sling:maven-sling-plugin:install-file -Dsling.file=./org.sakaiproject.nakamura.http-0.10-SNAPSHOT.jar

------------------

restarting apache on portal-dev:

(as chris)
sudo /sbin/service httpd_proxy start|stop|restart


----------------

Keep data, remove code (except for code stored as resources):

rm -rf sling/felix sling/startup sling/org.apache.sling.launchpad.base.jar.*

Force re-indexing:
rm -rf sling/jackrabbit/repository/index sling/jackrabbit/workspaces/default/index
